---
import Layout from '../../layouts/Layout.astro';
import { getSiteConfig } from '../../lib/config';

const config = await getSiteConfig();

// Article Schema
const articleSchema = {
  "@context": "https://schema.org",
  "@type": "Article",
  "headline": "Proceso de Compra de Propiedad en Republica Dominicana",
  "description": "Guia completa paso a paso para comprar una propiedad en Republica Dominicana. Desde la busqueda hasta la escritura final.",
  "image": `${config.site_url}/images/guias/proceso-compra.jpg`,
  "author": { "@type": "Organization", "name": config.company_name, "url": config.site_url },
  "publisher": { "@type": "Organization", "name": config.company_name, "logo": { "@type": "ImageObject", "url": `${config.site_url}${config.logo_url}` } },
  "datePublished": "2024-01-15",
  "dateModified": new Date().toISOString().split('T')[0],
  "mainEntityOfPage": { "@type": "WebPage", "@id": `${config.site_url}/guias/proceso-compra-propiedad` }
};

// FAQ Schema
const faqSchema = {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "¿Cuales son los pasos para comprar una propiedad en Republica Dominicana?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Los pasos son: 1) Definir necesidades y presupuesto, 2) Busqueda de propiedades, 3) Verificacion legal (due diligence), 4) Negociacion y oferta, 5) Contrato de opcion o promesa de venta, 6) Pago y contrato de venta, 7) Registro de la propiedad."
      }
    },
    {
      "@type": "Question",
      "name": "¿Cuanto cuesta comprar una propiedad en RD ademas del precio?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Debes presupuestar entre 5-8% adicional: impuesto de transferencia (3%), honorarios del abogado (1-2%), gastos notariales (RD$5,000-15,000), y registro de titulos. La comision del agente (3-5%) generalmente la paga el vendedor."
      }
    },
    {
      "@type": "Question",
      "name": "¿Necesito un abogado para comprar propiedad en RD?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Si, es altamente recomendado. El abogado realiza la verificacion legal (due diligence), revisa que el titulo este limpio, verifica que no haya gravamenes o hipotecas, y asegura que los impuestos esten al dia."
      }
    },
    {
      "@type": "Question",
      "name": "¿Cuanto tiempo toma comprar una propiedad en Republica Dominicana?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "El proceso completo puede tomar entre 30-90 dias dependiendo de la complejidad. La verificacion legal toma 1-2 semanas, la negociacion y contratos 1-2 semanas, y el registro del titulo 2-4 semanas."
      }
    }
  ]
};

// Breadcrumb Schema
const breadcrumbSchema = {
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    { "@type": "ListItem", "position": 1, "name": "Inicio", "item": config.site_url },
    { "@type": "ListItem", "position": 2, "name": "Guias", "item": `${config.site_url}/guias` },
    { "@type": "ListItem", "position": 3, "name": "Proceso de Compra", "item": `${config.site_url}/guias/proceso-compra-propiedad` }
  ]
};
---

<Layout
  title={`Proceso de Compra de Propiedad | ${config.company_name}`}
  description="Guia completa paso a paso para comprar una propiedad en Republica Dominicana. Desde la busqueda hasta la escritura final."
  keywords="comprar propiedad republica dominicana, proceso compra casa rd, pasos comprar apartamento, guia compra inmueble"
>
  <script is:inline type="application/ld+json" set:html={JSON.stringify(articleSchema)} />
  <script is:inline type="application/ld+json" set:html={JSON.stringify(faqSchema)} />
  <script is:inline type="application/ld+json" set:html={JSON.stringify(breadcrumbSchema)} />
  <!-- Breadcrumb -->
  <div class="bg-gray-100 py-4">
    <div class="container-custom">
      <nav class="flex text-sm text-gray-600">
        <a href="/" class="hover:text-primary-600">Inicio</a>
        <span class="mx-2">/</span>
        <a href="/guias" class="hover:text-primary-600">Guias</a>
        <span class="mx-2">/</span>
        <span class="text-gray-900 font-medium">Proceso de Compra</span>
      </nav>
    </div>
  </div>

  <!-- Hero -->
  <section class="bg-gradient-to-r from-primary-600 to-primary-700 py-12">
    <div class="container-custom">
      <span class="inline-block px-3 py-1 bg-white/20 rounded-full text-white text-sm mb-4">Comprar</span>
      <h1 class="text-3xl md:text-4xl font-bold text-white mb-4">
        Proceso de Compra de Propiedad en RD
      </h1>
      <p class="text-primary-100 text-lg max-w-3xl">
        Guia completa paso a paso para comprar tu casa, apartamento o terreno en Republica Dominicana.
      </p>
    </div>
  </section>

  <!-- Content -->
  <article class="section">
    <div class="container-custom">
      <div class="max-w-4xl mx-auto">

        <!-- Timeline -->
        <div class="mb-12">
          <h2 class="text-2xl font-bold text-gray-900 mb-8">Pasos del Proceso de Compra</h2>

          <div class="space-y-8">
            <!-- Paso 1 -->
            <div class="relative pl-8 pb-8 border-l-2 border-primary-200">
              <div class="absolute -left-3 top-0 w-6 h-6 bg-primary-600 rounded-full flex items-center justify-center">
                <span class="text-white text-xs font-bold">1</span>
              </div>
              <h3 class="text-xl font-semibold text-gray-900 mb-3">Definir tus Necesidades y Presupuesto</h3>
              <p class="text-gray-700 mb-4">Antes de comenzar la busqueda, define claramente:</p>
              <ul class="list-disc list-inside text-gray-600 space-y-2 ml-4">
                <li>Tipo de propiedad (casa, apartamento, terreno)</li>
                <li>Ubicacion preferida (ciudad, sector, cercania a servicios)</li>
                <li>Numero de habitaciones y banos</li>
                <li>Presupuesto maximo (incluyendo gastos adicionales)</li>
                <li>Si es para vivir, invertir o alquilar</li>
              </ul>
            </div>

            <!-- Paso 2 -->
            <div class="relative pl-8 pb-8 border-l-2 border-primary-200">
              <div class="absolute -left-3 top-0 w-6 h-6 bg-primary-600 rounded-full flex items-center justify-center">
                <span class="text-white text-xs font-bold">2</span>
              </div>
              <h3 class="text-xl font-semibold text-gray-900 mb-3">Busqueda de Propiedades</h3>
              <p class="text-gray-700 mb-4">Utiliza diferentes canales para encontrar opciones:</p>
              <ul class="list-disc list-inside text-gray-600 space-y-2 ml-4">
                <li>Portales inmobiliarios como {config.company_name}</li>
                <li>Agentes inmobiliarios verificados</li>
                <li>Desarrolladores de proyectos nuevos</li>
                <li>Referencias de conocidos</li>
              </ul>
              <div class="bg-primary-50 p-4 rounded-lg mt-4">
                <p class="text-primary-800 text-sm">
                  <strong>Consejo:</strong> Visita varias propiedades antes de decidir. No te apresures en la primera opcion.
                </p>
              </div>
            </div>

            <!-- Paso 3 -->
            <div class="relative pl-8 pb-8 border-l-2 border-primary-200">
              <div class="absolute -left-3 top-0 w-6 h-6 bg-primary-600 rounded-full flex items-center justify-center">
                <span class="text-white text-xs font-bold">3</span>
              </div>
              <h3 class="text-xl font-semibold text-gray-900 mb-3">Verificacion Legal (Due Diligence)</h3>
              <p class="text-gray-700 mb-4">Este es uno de los pasos mas importantes. Verifica:</p>
              <ul class="list-disc list-inside text-gray-600 space-y-2 ml-4">
                <li><strong>Certificacion del titulo:</strong> Solicita una certificacion de estado juridico al Registro de Titulos</li>
                <li><strong>Deslinde:</strong> Confirma que la propiedad tiene deslinde aprobado</li>
                <li><strong>Impuestos al dia:</strong> Verifica que no haya deudas de IPI o impuestos municipales</li>
                <li><strong>Gravamenes:</strong> Asegurate de que no existan hipotecas o embargos</li>
                <li><strong>Permisos:</strong> En caso de construcciones, verifica permisos de uso de suelo</li>
              </ul>
              <div class="bg-yellow-50 p-4 rounded-lg mt-4">
                <p class="text-yellow-800 text-sm">
                  <strong>Importante:</strong> Contrata un abogado inmobiliario para realizar esta verificacion. El costo es minimo comparado con los problemas que puede evitar.
                </p>
              </div>
            </div>

            <!-- Paso 4 -->
            <div class="relative pl-8 pb-8 border-l-2 border-primary-200">
              <div class="absolute -left-3 top-0 w-6 h-6 bg-primary-600 rounded-full flex items-center justify-center">
                <span class="text-white text-xs font-bold">4</span>
              </div>
              <h3 class="text-xl font-semibold text-gray-900 mb-3">Negociacion y Oferta</h3>
              <p class="text-gray-700 mb-4">Una vez verificada la propiedad:</p>
              <ul class="list-disc list-inside text-gray-600 space-y-2 ml-4">
                <li>Presenta una oferta formal por escrito</li>
                <li>Negocia el precio y condiciones de pago</li>
                <li>Acuerda quien paga cada gasto (transferencia, notario, etc.)</li>
                <li>Define el plazo para cerrar la transaccion</li>
              </ul>
            </div>

            <!-- Paso 5 -->
            <div class="relative pl-8 pb-8 border-l-2 border-primary-200">
              <div class="absolute -left-3 top-0 w-6 h-6 bg-primary-600 rounded-full flex items-center justify-center">
                <span class="text-white text-xs font-bold">5</span>
              </div>
              <h3 class="text-xl font-semibold text-gray-900 mb-3">Contrato de Opcion o Promesa de Venta</h3>
              <p class="text-gray-700 mb-4">Se firma un documento preliminar que incluye:</p>
              <ul class="list-disc list-inside text-gray-600 space-y-2 ml-4">
                <li>Descripcion completa de la propiedad</li>
                <li>Precio acordado y forma de pago</li>
                <li>Monto del deposito (generalmente 10%)</li>
                <li>Plazo para la firma del contrato definitivo</li>
                <li>Penalidades por incumplimiento</li>
              </ul>
            </div>

            <!-- Paso 6 -->
            <div class="relative pl-8 pb-8 border-l-2 border-primary-200">
              <div class="absolute -left-3 top-0 w-6 h-6 bg-primary-600 rounded-full flex items-center justify-center">
                <span class="text-white text-xs font-bold">6</span>
              </div>
              <h3 class="text-xl font-semibold text-gray-900 mb-3">Pago y Contrato de Venta</h3>
              <p class="text-gray-700 mb-4">Se procede al pago y firma del contrato definitivo:</p>
              <ul class="list-disc list-inside text-gray-600 space-y-2 ml-4">
                <li>Pago del saldo restante</li>
                <li>Firma del contrato de venta ante notario</li>
                <li>Pago del impuesto de transferencia (3%)</li>
                <li>Legalizacion de firmas</li>
              </ul>
            </div>

            <!-- Paso 7 -->
            <div class="relative pl-8">
              <div class="absolute -left-3 top-0 w-6 h-6 bg-green-600 rounded-full flex items-center justify-center">
                <svg class="w-3 h-3 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7" />
                </svg>
              </div>
              <h3 class="text-xl font-semibold text-gray-900 mb-3">Registro de la Propiedad</h3>
              <p class="text-gray-700 mb-4">Finalmente, se registra la transferencia:</p>
              <ul class="list-disc list-inside text-gray-600 space-y-2 ml-4">
                <li>Presentacion de documentos al Registro de Titulos</li>
                <li>Pago de tasas de registro</li>
                <li>Emision del nuevo certificado de titulo a tu nombre</li>
              </ul>
              <div class="bg-green-50 p-4 rounded-lg mt-4">
                <p class="text-green-800 text-sm">
                  <strong>¡Felicidades!</strong> Una vez registrada, la propiedad es oficialmente tuya.
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- Costos -->
        <section class="mb-12">
          <h2 class="text-2xl font-bold text-gray-900 mb-6">Costos Adicionales a Considerar</h2>
          <div class="overflow-x-auto">
            <table class="w-full text-left border-collapse">
              <thead>
                <tr class="bg-gray-100">
                  <th class="border p-3 font-semibold">Concepto</th>
                  <th class="border p-3 font-semibold">Costo Aproximado</th>
                  <th class="border p-3 font-semibold">Quien Paga</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="border p-3">Impuesto de Transferencia</td>
                  <td class="border p-3">3% del valor</td>
                  <td class="border p-3">Comprador</td>
                </tr>
                <tr class="bg-gray-50">
                  <td class="border p-3">Honorarios del Abogado</td>
                  <td class="border p-3">1% - 2%</td>
                  <td class="border p-3">Comprador</td>
                </tr>
                <tr>
                  <td class="border p-3">Honorarios del Notario</td>
                  <td class="border p-3">RD$5,000 - RD$15,000</td>
                  <td class="border p-3">Comprador</td>
                </tr>
                <tr class="bg-gray-50">
                  <td class="border p-3">Registro de Titulos</td>
                  <td class="border p-3">Variable</td>
                  <td class="border p-3">Comprador</td>
                </tr>
                <tr>
                  <td class="border p-3">Comision del Agente</td>
                  <td class="border p-3">3% - 5%</td>
                  <td class="border p-3">Vendedor (normalmente)</td>
                </tr>
              </tbody>
            </table>
          </div>
          <p class="text-sm text-gray-500 mt-4">
            * Los porcentajes son sobre el valor de venta de la propiedad. Los costos pueden variar.
          </p>
        </section>

        <!-- Tips -->
        <section class="mb-12">
          <h2 class="text-2xl font-bold text-gray-900 mb-6">Consejos Utiles</h2>
          <div class="grid md:grid-cols-2 gap-6">
            <div class="bg-primary-50 p-6 rounded-lg">
              <h3 class="font-semibold text-primary-900 mb-2">Trabaja con Profesionales</h3>
              <p class="text-primary-800 text-sm">Contrata un abogado inmobiliario y trabaja con agentes verificados. La inversion vale la pena.</p>
            </div>
            <div class="bg-primary-50 p-6 rounded-lg">
              <h3 class="font-semibold text-primary-900 mb-2">No Te Apresures</h3>
              <p class="text-primary-800 text-sm">Toma tu tiempo para verificar todo. Una decision apresurada puede costar mucho mas.</p>
            </div>
            <div class="bg-primary-50 p-6 rounded-lg">
              <h3 class="font-semibold text-primary-900 mb-2">Presupuesta Gastos Extra</h3>
              <p class="text-primary-800 text-sm">Considera un 5-8% adicional sobre el precio para cubrir todos los gastos de cierre.</p>
            </div>
            <div class="bg-primary-50 p-6 rounded-lg">
              <h3 class="font-semibold text-primary-900 mb-2">Documenta Todo</h3>
              <p class="text-primary-800 text-sm">Guarda copias de todos los documentos y recibos de pago.</p>
            </div>
          </div>
        </section>

        <!-- CTA -->
        <div class="bg-gray-50 rounded-lg p-8 text-center">
          <h3 class="text-xl font-bold text-gray-900 mb-4">¿Listo para Buscar tu Propiedad?</h3>
          <p class="text-gray-600 mb-6">Explora miles de propiedades en venta en Republica Dominicana.</p>
          <div class="flex flex-col sm:flex-row gap-4 justify-center">
            <a href="/comprar" class="btn-primary">Ver Propiedades en Venta</a>
            <a href="/asesores" class="btn-outline">Contactar un Asesor</a>
          </div>
        </div>
      </div>
    </div>
  </article>

  <!-- Related Guides -->
  <section class="py-12 bg-gray-50">
    <div class="container-custom">
      <h2 class="text-2xl font-bold text-gray-900 mb-6">Guias Relacionadas</h2>
      <div class="grid md:grid-cols-3 gap-6">
        <a href="/guias/documentos-compra-venta" class="card p-6 hover:shadow-lg transition-shadow">
          <h3 class="font-semibold text-gray-900 mb-2">Documentos para Compra-Venta</h3>
          <p class="text-sm text-gray-600">Lista completa de documentos necesarios.</p>
        </a>
        <a href="/guias/fideicomiso-inmobiliario" class="card p-6 hover:shadow-lg transition-shadow">
          <h3 class="font-semibold text-gray-900 mb-2">Fideicomiso Inmobiliario</h3>
          <p class="text-sm text-gray-600">Como funciona la compra mediante fideicomiso.</p>
        </a>
        <a href="/guias/impuestos-inmobiliarios" class="card p-6 hover:shadow-lg transition-shadow">
          <h3 class="font-semibold text-gray-900 mb-2">Impuestos Inmobiliarios</h3>
          <p class="text-sm text-gray-600">Todo sobre impuestos al comprar propiedades.</p>
        </a>
      </div>
    </div>
  </section>
</Layout>
