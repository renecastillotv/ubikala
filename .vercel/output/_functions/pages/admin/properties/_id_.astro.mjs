/* empty css                                       */
import { e as createAstro, f as createComponent, k as renderComponent, r as renderTemplate, m as maybeRenderHead, h as addAttribute, o as renderScript } from '../../../chunks/astro/server_CULxlDpc.mjs';
import 'piccolore';
import { $ as $$AdminLayout } from '../../../chunks/AdminLayout_DiPxC4Fd.mjs';
import { b as getUbikalaPropertyById } from '../../../chunks/ubikala-db_C_z4BDxl.mjs';
/* empty css                                      */
export { renderers } from '../../../renderers.mjs';

const $$Astro = createAstro("https://ubikala.com");
const $$id = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro, $$props, $$slots);
  Astro2.self = $$id;
  const user = Astro2.locals.user;
  const { id } = Astro2.params;
  const property = await getUbikalaPropertyById(id);
  if (!property) {
    return Astro2.redirect("/admin/properties");
  }
  if (user?.role !== "admin" && property.created_by !== user?.id) {
    return Astro2.redirect("/admin/properties");
  }
  return renderTemplate`${renderComponent($$result, "AdminLayout", $$AdminLayout, { "title": `Editar: ${property.titulo}`, "data-astro-cid-wldm33es": true }, { "default": async ($$result2) => renderTemplate` ${maybeRenderHead()}<div class="edit-property-page" data-astro-cid-wldm33es> <div class="page-header" data-astro-cid-wldm33es> <a href="/admin/properties" class="back-link" data-astro-cid-wldm33es> <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-astro-cid-wldm33es> <polyline points="15 18 9 12 15 6" data-astro-cid-wldm33es></polyline> </svg>
Volver a propiedades
</a> <h3 data-astro-cid-wldm33es>Editar Propiedad</h3> </div> <form id="property-form" class="property-form" data-astro-cid-wldm33es> <input type="hidden" id="property-id"${addAttribute(id, "value")} data-astro-cid-wldm33es> <div class="form-section" data-astro-cid-wldm33es> <h4 data-astro-cid-wldm33es>Información Básica</h4> <div class="form-grid" data-astro-cid-wldm33es> <div class="form-group full-width" data-astro-cid-wldm33es> <label for="titulo" data-astro-cid-wldm33es>Título *</label> <input type="text" id="titulo" name="titulo" required${addAttribute(property.titulo, "value")} data-astro-cid-wldm33es> </div> <div class="form-group" data-astro-cid-wldm33es> <label for="tipo" data-astro-cid-wldm33es>Tipo de Propiedad *</label> <select id="tipo" name="tipo" required data-astro-cid-wldm33es> <option value="casa"${addAttribute(property.tipo === "casa", "selected")} data-astro-cid-wldm33es>Casa</option> <option value="apartamento"${addAttribute(property.tipo === "apartamento", "selected")} data-astro-cid-wldm33es>Apartamento</option> <option value="villa"${addAttribute(property.tipo === "villa", "selected")} data-astro-cid-wldm33es>Villa</option> <option value="terreno"${addAttribute(property.tipo === "terreno", "selected")} data-astro-cid-wldm33es>Terreno</option> <option value="local"${addAttribute(property.tipo === "local", "selected")} data-astro-cid-wldm33es>Local Comercial</option> <option value="oficina"${addAttribute(property.tipo === "oficina", "selected")} data-astro-cid-wldm33es>Oficina</option> </select> </div> <div class="form-group" data-astro-cid-wldm33es> <label for="operacion" data-astro-cid-wldm33es>Operación *</label> <select id="operacion" name="operacion" required data-astro-cid-wldm33es> <option value="venta"${addAttribute(property.operacion === "venta", "selected")} data-astro-cid-wldm33es>Venta</option> <option value="alquiler"${addAttribute(property.operacion === "alquiler", "selected")} data-astro-cid-wldm33es>Alquiler</option> </select> </div> <div class="form-group" data-astro-cid-wldm33es> <label for="estado" data-astro-cid-wldm33es>Estado</label> <select id="estado" name="estado" data-astro-cid-wldm33es> <option value="disponible"${addAttribute(property.estado === "disponible", "selected")} data-astro-cid-wldm33es>Disponible</option> <option value="reservada"${addAttribute(property.estado === "reservada", "selected")} data-astro-cid-wldm33es>Reservada</option> <option value="vendida"${addAttribute(property.estado === "vendida", "selected")} data-astro-cid-wldm33es>Vendida</option> <option value="alquilada"${addAttribute(property.estado === "alquilada", "selected")} data-astro-cid-wldm33es>Alquilada</option> </select> </div> <div class="form-group" data-astro-cid-wldm33es> <label for="codigo" data-astro-cid-wldm33es>Código</label> <input type="text" id="codigo" name="codigo"${addAttribute(property.codigo || "", "value")} data-astro-cid-wldm33es> </div> <div class="form-group full-width" data-astro-cid-wldm33es> <label for="descripcion" data-astro-cid-wldm33es>Descripción</label> <textarea id="descripcion" name="descripcion" rows="4" data-astro-cid-wldm33es>${property.descripcion || ""}</textarea> </div> </div> </div> <div class="form-section" data-astro-cid-wldm33es> <h4 data-astro-cid-wldm33es>Precio</h4> <div class="form-grid" data-astro-cid-wldm33es> <div class="form-group" data-astro-cid-wldm33es> <label for="precio" data-astro-cid-wldm33es>Precio *</label> <input type="number" id="precio" name="precio" required min="0" step="0.01"${addAttribute(property.precio, "value")} data-astro-cid-wldm33es> </div> <div class="form-group" data-astro-cid-wldm33es> <label for="moneda" data-astro-cid-wldm33es>Moneda</label> <select id="moneda" name="moneda" data-astro-cid-wldm33es> <option value="USD"${addAttribute(property.moneda === "USD", "selected")} data-astro-cid-wldm33es>USD</option> <option value="DOP"${addAttribute(property.moneda === "DOP", "selected")} data-astro-cid-wldm33es>DOP</option> <option value="EUR"${addAttribute(property.moneda === "EUR", "selected")} data-astro-cid-wldm33es>EUR</option> </select> </div> </div> </div> <div class="form-section" data-astro-cid-wldm33es> <h4 data-astro-cid-wldm33es>Ubicación</h4> <div class="form-grid" data-astro-cid-wldm33es> <div class="form-group" data-astro-cid-wldm33es> <label for="provincia" data-astro-cid-wldm33es>Provincia</label> <input type="text" id="provincia" name="provincia"${addAttribute(property.provincia || "", "value")} data-astro-cid-wldm33es> </div> <div class="form-group" data-astro-cid-wldm33es> <label for="ciudad" data-astro-cid-wldm33es>Ciudad</label> <input type="text" id="ciudad" name="ciudad"${addAttribute(property.ciudad || "", "value")} data-astro-cid-wldm33es> </div> <div class="form-group" data-astro-cid-wldm33es> <label for="sector" data-astro-cid-wldm33es>Sector</label> <input type="text" id="sector" name="sector"${addAttribute(property.sector || "", "value")} data-astro-cid-wldm33es> </div> <div class="form-group full-width" data-astro-cid-wldm33es> <label for="direccion" data-astro-cid-wldm33es>Dirección</label> <input type="text" id="direccion" name="direccion"${addAttribute(property.direccion || "", "value")} data-astro-cid-wldm33es> </div> <div class="form-group" data-astro-cid-wldm33es> <label for="latitud" data-astro-cid-wldm33es>Latitud</label> <input type="number" id="latitud" name="latitud" step="0.0000001"${addAttribute(property.latitud || "", "value")} data-astro-cid-wldm33es> </div> <div class="form-group" data-astro-cid-wldm33es> <label for="longitud" data-astro-cid-wldm33es>Longitud</label> <input type="number" id="longitud" name="longitud" step="0.0000001"${addAttribute(property.longitud || "", "value")} data-astro-cid-wldm33es> </div> </div> </div> <div class="form-section" data-astro-cid-wldm33es> <h4 data-astro-cid-wldm33es>Características</h4> <div class="form-grid" data-astro-cid-wldm33es> <div class="form-group" data-astro-cid-wldm33es> <label for="habitaciones" data-astro-cid-wldm33es>Habitaciones</label> <input type="number" id="habitaciones" name="habitaciones" min="0"${addAttribute(property.habitaciones || "", "value")} data-astro-cid-wldm33es> </div> <div class="form-group" data-astro-cid-wldm33es> <label for="banos" data-astro-cid-wldm33es>Baños</label> <input type="number" id="banos" name="banos" min="0"${addAttribute(property.banos || "", "value")} data-astro-cid-wldm33es> </div> <div class="form-group" data-astro-cid-wldm33es> <label for="medios_banos" data-astro-cid-wldm33es>Medios Baños</label> <input type="number" id="medios_banos" name="medios_banos" min="0"${addAttribute(property.medios_banos || "", "value")} data-astro-cid-wldm33es> </div> <div class="form-group" data-astro-cid-wldm33es> <label for="estacionamientos" data-astro-cid-wldm33es>Estacionamientos</label> <input type="number" id="estacionamientos" name="estacionamientos" min="0"${addAttribute(property.estacionamientos || "", "value")} data-astro-cid-wldm33es> </div> <div class="form-group" data-astro-cid-wldm33es> <label for="m2_construccion" data-astro-cid-wldm33es>m² Construcción</label> <input type="number" id="m2_construccion" name="m2_construccion" min="0" step="0.01"${addAttribute(property.m2_construccion || "", "value")} data-astro-cid-wldm33es> </div> <div class="form-group" data-astro-cid-wldm33es> <label for="m2_terreno" data-astro-cid-wldm33es>m² Terreno</label> <input type="number" id="m2_terreno" name="m2_terreno" min="0" step="0.01"${addAttribute(property.m2_terreno || "", "value")} data-astro-cid-wldm33es> </div> <div class="form-group" data-astro-cid-wldm33es> <label for="pisos" data-astro-cid-wldm33es>Pisos</label> <input type="number" id="pisos" name="pisos" min="0"${addAttribute(property.pisos || "", "value")} data-astro-cid-wldm33es> </div> <div class="form-group" data-astro-cid-wldm33es> <label for="ano_construccion" data-astro-cid-wldm33es>Año de Construcción</label> <input type="number" id="ano_construccion" name="ano_construccion" min="1900" max="2030"${addAttribute(property.ano_construccion || "", "value")} data-astro-cid-wldm33es> </div> </div> </div> <div class="form-section" data-astro-cid-wldm33es> <h4 data-astro-cid-wldm33es>Media</h4> <div class="form-grid" data-astro-cid-wldm33es> <div class="form-group full-width" data-astro-cid-wldm33es> <label for="imagen_principal" data-astro-cid-wldm33es>URL Imagen Principal</label> <input type="url" id="imagen_principal" name="imagen_principal"${addAttribute(property.imagen_principal || "", "value")} data-astro-cid-wldm33es> </div> <div class="form-group full-width" data-astro-cid-wldm33es> <label for="video_url" data-astro-cid-wldm33es>URL Video</label> <input type="url" id="video_url" name="video_url"${addAttribute(property.video_url || "", "value")} data-astro-cid-wldm33es> </div> <div class="form-group full-width" data-astro-cid-wldm33es> <label for="tour_virtual_url" data-astro-cid-wldm33es>URL Tour Virtual</label> <input type="url" id="tour_virtual_url" name="tour_virtual_url"${addAttribute(property.tour_virtual_url || "", "value")} data-astro-cid-wldm33es> </div> </div> ${property.imagen_principal && renderTemplate`<div class="image-preview" data-astro-cid-wldm33es> <img${addAttribute(property.imagen_principal, "src")}${addAttribute(property.titulo, "alt")} data-astro-cid-wldm33es> </div>`} </div> <div class="form-section" data-astro-cid-wldm33es> <h4 data-astro-cid-wldm33es>Opciones</h4> <div class="checkbox-grid" data-astro-cid-wldm33es> <label class="checkbox-label" data-astro-cid-wldm33es> <input type="checkbox" id="activo" name="activo"${addAttribute(property.activo, "checked")} data-astro-cid-wldm33es> <span data-astro-cid-wldm33es>Propiedad activa</span> </label> <label class="checkbox-label" data-astro-cid-wldm33es> <input type="checkbox" id="destacada" name="destacada"${addAttribute(property.destacada, "checked")} data-astro-cid-wldm33es> <span data-astro-cid-wldm33es>Propiedad destacada</span> </label> <label class="checkbox-label" data-astro-cid-wldm33es> <input type="checkbox" id="exclusiva" name="exclusiva"${addAttribute(property.exclusiva, "checked")} data-astro-cid-wldm33es> <span data-astro-cid-wldm33es>Propiedad exclusiva</span> </label> </div> </div> <div id="form-error" class="form-error hidden" data-astro-cid-wldm33es></div> <div class="form-actions" data-astro-cid-wldm33es> <a href="/admin/properties" class="btn-secondary" data-astro-cid-wldm33es>Cancelar</a> <button type="submit" class="btn-primary" id="submit-btn" data-astro-cid-wldm33es>Guardar Cambios</button> </div> </form> </div>  ${renderScript($$result2, "D:/portal PropiedadEnRD.com/src/pages/admin/properties/[id].astro?astro&type=script&index=0&lang.ts")} ` })}`;
}, "D:/portal PropiedadEnRD.com/src/pages/admin/properties/[id].astro", void 0);

const $$file = "D:/portal PropiedadEnRD.com/src/pages/admin/properties/[id].astro";
const $$url = "/admin/properties/[id]";

const _page = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
  __proto__: null,
  default: $$id,
  file: $$file,
  url: $$url
}, Symbol.toStringTag, { value: 'Module' }));

const page = () => _page;

export { page };
